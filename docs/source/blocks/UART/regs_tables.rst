.. ----------------------------------------------------------------------------------------------------

数据接口寄存器DATA
^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. flat-table::
   :class: tight-table
   :header-rows: 1
   :widths: 12 9 6 10 33

   * - 寄存器

     - 偏移

     - 类型

     - 复位值

     - 描述

   * - DATA

     - 0x00

     - R/W

     - 0

     - UART数据寄存器



.. ----------------------------------------------------------------------------------------------------

.. flat-table::
   :class: tight-table
   :widths: 9 9 9 9 9 9 9 9
   :align: center

   * - 31

     - 30

     - 29

     - 28

     - 27

     - 26

     - 25

     - 24

   * - :cspan:`7` --

   * - 23

     - 22

     - 21

     - 20

     - 19

     - 18

     - 17

     - 16

   * - :cspan:`7` --

   * - 15

     - 14

     - 13

     - 12

     - 11

     - 10

     - 9

     - 8

   * - :cspan:`4` --

     - PAERR

     - VALID

     - DATA

   * - 7

     - 6

     - 5

     - 4

     - 3

     - 2

     - 1

     - 0

   * - :cspan:`7` DATA



.. ----------------------------------------------------------------------------------------------------

.. flat-table::
   :class: tight-table
   :header-rows: 1
   :widths: 12 15 73

   * - 位域

     - 名称

     - 描述

   * - 31:11

     - --

     - --

   * - 10

     - PAERR

     - 当前读回的的数据是否存在校验错误，RO

       1：存在

       0：不存在


   * - 9

     - VALID

     - 数据有效位，RO

       1：DATA字段有有效的接收数据

       0：DATA字段无有效的接收数据


   * - 8:0

     - DATA

     - UART数据位

       读操作，返回缓存中接收到的数据

       写操作，将待发送的数据写入缓存中




.. ----------------------------------------------------------------------------------------------------

控制及状态寄存器CTRL
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. flat-table::
   :class: tight-table
   :header-rows: 1
   :widths: 12 9 6 10 33

   * - 寄存器

     - 偏移

     - 类型

     - 复位值

     - 描述

   * - CTRL

     - 0x04

     - R/W

     - 1

     - UART控制及状态寄存器



.. ----------------------------------------------------------------------------------------------------

.. flat-table::
   :class: tight-table
   :widths: 9 9 9 9 9 9 9 9
   :align: center

   * - 31

     - 30

     - 29

     - 28

     - 27

     - 26

     - 25

     - 24

   * - :cspan:`7` --

   * - 23

     - 22

     - 21

     - 20

     - 19

     - 18

     - 17

     - 16

   * - :cspan:`1` STOP2B

     - :cspan:`1` PARMD

     - PAREN

     - DATA9B

     - :cspan:`1` --

   * - 15

     - 14

     - 13

     - 12

     - 11

     - 10

     - 9

     - 8

   * - --

     - TOIE

     - :cspan:`2` --

     - LOOP

     - EN

     - --

   * - 7

     - 6

     - 5

     - 4

     - 3

     - 2

     - 1

     - 0

   * - --

     - TXDOIE

     - RXOV

     - RXIE

     - RXNE

     - TXIE

     - TXFF

     - TXIDLE



.. ----------------------------------------------------------------------------------------------------

.. flat-table::
   :class: tight-table
   :header-rows: 1
   :widths: 12 15 73

   * - 位域

     - 名称

     - 描述

   * - 31:24

     - --

     - --

   * - 23:22

     - STOP2B

     - 停止位模式

       00：1位

       01：2位

       1x：保留


   * - 21:20

     - PARMD

     - 奇偶校验位模式

       00：奇校验

       01：偶校验

       10：常1

       11：常0


   * - 19

     - PAREN

     - 奇偶校验使能位

       1：使能

       0：禁能


   * - 18

     - DATA9B

     - 数据位模式

       1：9位数据位

       0：8位数据位


   * - 17:15

     - --

     - --

   * - 14

     - TOIE

     - 接收数据超时中断

       1：使能

       0：禁能


   * - 13:11

     - --

     - --

   * - 10

     - LOOP

     - 回环测试模式使能位（从TX线发送出去的数据，在自身RX线上可以收到，从而测试硬件是否正常工作）

       1：使能

       0：禁能


   * - 9

     - EN

     - UART模块使能位

       1：使能

       0：禁能


   * - 8:7

     - --

     - --

   * - 6

     - TXDOIE

     - 发送完成中断使能位

       1：使能

       0：禁能


   * - 5

     - RXOV

     - 接收端FIFO溢出标志位，W1C

       1：接收FIFO溢出

       0：接收FIFO没有溢出


   * - 4

     - RXIE

     - 接收端FIFO中断使能位

       1：接收FIFO达到预定的数量时产生中断

       0：接收FIFO达到预定的数量时不产生中断

       注：接收FIFO中此位为0表示接收到1个数据，依次类推


   * - 3

     - RXNE

     - 接收端FIFO非空标志位，RO

       1：非空

       0：空


   * - 2

     - TXIE

     - 发送端FIFO中断使能位

       1：当发送FIFO内的数据少于预定的数量时产生中断

       0：当发送FIFO内的数据少于预定的数量时不产生中断

       注：发送FIFO中此位为0表示发送0个数据，依次类推


   * - 1

     - TXFF

     - 发送端FIFO满标志位，RO

       1：发送FIFO内的数据满

       0：发送FIFO内的数据不满


   * - 0

     - TXIDLE

     - 发送线空闲标志位，RO

       1：发送线空闲

       0：发送线忙，正在发送数据




.. ----------------------------------------------------------------------------------------------------

波特率寄存器BAUD
^^^^^^^^^^^^^^^^^^^^^^^^^

.. flat-table::
   :class: tight-table
   :header-rows: 1
   :widths: 12 9 6 10 33

   * - 寄存器

     - 偏移

     - 类型

     - 复位值

     - 描述

   * - BAUD

     - 0x08

     - R/W

     - 0x184000

     - UART波特率控制寄存器



.. ----------------------------------------------------------------------------------------------------

.. flat-table::
   :class: tight-table
   :widths: 9 9 9 9 9 9 9 9
   :align: center

   * - 31

     - 30

     - 29

     - 28

     - 27

     - 26

     - 25

     - 24

   * - :cspan:`3` FRAC

     - TXDOIF

     - ABRERR

     - :cspan:`1` ABRBIT

   * - 23

     - 22

     - 21

     - 20

     - 19

     - 18

     - 17

     - 16

   * - ABREN

     - RXIF

     - TOIF

     - TXTHRF

     - RXTHRF

     - --

     - TXIF

     - RXTOIF

   * - 15

     - 14

     - 13

     - 12

     - 11

     - 10

     - 9

     - 8

   * - RXD

     - TXD

     - :cspan:`5` BAUD

   * - 7

     - 6

     - 5

     - 4

     - 3

     - 2

     - 1

     - 0

   * - :cspan:`7` BAUD



.. ----------------------------------------------------------------------------------------------------

.. flat-table::
   :class: tight-table
   :header-rows: 1
   :widths: 12 15 73

   * - 位域

     - 名称

     - 描述

   * - 31:28

     - FRAC

     - 波特率设置微调（波特率分频值的小数部分）,参考BAUD的设置

   * - 27

     - TXDOIF

     - 发送完成中断状态位

       1：中断已产生

       0：中断未产生

       RO，表示此标志位会随着FIFO门限的变化而改变，标志位只与其当前状态有关，不需要清除


   * - 26

     - ABRERR

     - 自动调节波特率时，计数器溢出中断标志，R/W1C

       1：自动调节波特率时，计数器溢出，调节失败。

       0：自动调节波特率时，计数器没有溢出。


   * - 25:24

     - ABRBIT

     - 自动调节波特率时，检测的时间长度

       00：1位长度

       01：2位长度

       10：4位长度

       11：8位长度


   * - 23

     - ABREN

     - 1：打开波特率自动调节功能。

       0：关闭波特率自动调节功能。

       调节完成自动清零，R/W，AC


   * - 22

     - RXIF

     - 1：接收数据缓存达到预定数量

       0：接收数据缓存未达到预定数量

       RO，表示此标志位会随着FIFO门限的变化而改变，标志位只与其当前状态有关，不需要清除


   * - 21

     - TOIF

     - 1：接收数据超出TIME确定的时间

       0：接收数据未超出TIME确定的时间

       RO，表示此标志位会随着FIFO门限的变化而改变，标志位只与其当前状态有关，不需要清除

       超过 TOTIME/BAUDRAUD 秒没有接收到新的数据时若TOIE=1，此位由硬件置位


   * - 20

     - TXTHRF

     - 1：发送数据缓存达到预定数量

       0：发送数据缓存未达到预定数量

       RO，表示此标志位会随着FIFO门限的变化而改变，标志位只与其当前状态有关，不需要清除


   * - 19

     - RXTHRF

     - 1：接收数据缓存达到预定数量

       0：接收数据缓存未达到预定数量

       RO，表示此标志位会随着FIFO门限的变化而改变，标志位只与其当前状态有关，不需要清除


   * - 18

     - --

     - --

   * - 17

     - TXIF

     - 1：发送数据缓存内的数据少于预定的数量

       0：发送数据缓存内的数据大于预定的数量

       RO，表示此标志位会随着FIFO门限的变化而改变，标志位只与其当前状态有关，不需要清除


   * - 16

     - RXTOIF

     - 接收或超时中断标志

       11：中断已产生

       0：中断未产生

       RO，表示此标志位会随着FIFO门限的变化而改变，标志位只与其当前状态有关，不需要清除


   * - 15

     - RXD

     - 直接读取接收线状态，RO

   * - 14

     - TXD

     - 直接读取发送线状态，RO

   * - 13:0

     - BAUD

     - 用于控制UART工作的波特率

       得到的波特率为：系统主时钟 / (BAUD.BAUD x 16 +BAUD.FRAC + 1)

       可通过BAUD寄存器FRAC位进行波特率微调，使波特率的误差在5%以内。




.. ----------------------------------------------------------------------------------------------------

数据队列寄存器FIFO
^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. flat-table::
   :class: tight-table
   :header-rows: 1
   :widths: 12 9 6 10 33

   * - 寄存器

     - 偏移

     - 类型

     - 复位值

     - 描述

   * - FIFO

     - 0x0C

     - R/W

     - 0

     - UART数据队列寄存器



.. ----------------------------------------------------------------------------------------------------

.. flat-table::
   :class: tight-table
   :widths: 9 9 9 9 9 9 9 9
   :align: center

   * - 31

     - 30

     - 29

     - 28

     - 27

     - 26

     - 25

     - 24

   * - :cspan:`3` --

     - :cspan:`3` TXTHR

   * - 23

     - 22

     - 21

     - 20

     - 19

     - 18

     - 17

     - 16

   * - :cspan:`3` --

     - :cspan:`3` RXTHR

   * - 15

     - 14

     - 13

     - 12

     - 11

     - 10

     - 9

     - 8

   * - :cspan:`3` --

     - :cspan:`3` TXLVL

   * - 7

     - 6

     - 5

     - 4

     - 3

     - 2

     - 1

     - 0

   * - :cspan:`3` --

     - :cspan:`3` RXLVL



.. ----------------------------------------------------------------------------------------------------

.. flat-table::
   :class: tight-table
   :header-rows: 1
   :widths: 12 15 73

   * - 位域

     - 名称

     - 描述

   * - 31:28

     - --

     - --

   * - 27:24

     - TXTHR

     - 设置发送FIFO中断（TXIF）阈值

       1：当发送FIFO里的门限不超过设置值时产生中断

       0：当发送FIFO里的门限不超过设置值时不产生中断


   * - 23:20

     - --

     - --

   * - 19:16

     - RXTHR

     - 设置接收FIFO中断（RXIF）阈值

       1：当接收FIFO里的门限超过设置值时产生中断

       0：当接收FIFO里的门限超过设置值时不产生中断


   * - 15:12

     - --

     - --

   * - 11:8

     - TXLVL

     - 发送缓存的实际门限

   * - 7:4

     - --

     - --

   * - 3:0

     - RXLVL

     - 接收缓存的实际门限



.. ----------------------------------------------------------------------------------------------------

LIN Frame控制寄存器LINCR
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. flat-table::
   :class: tight-table
   :header-rows: 1
   :widths: 12 9 6 10 33

   * - 寄存器

     - 偏移

     - 类型

     - 复位值

     - 描述

   * - LINCR

     - 0x10

     - R/W

     - 0x0

     - LIN Frame控制寄存器



.. ----------------------------------------------------------------------------------------------------

.. flat-table::
   :class: tight-table
   :widths: 9 9 9 9 9 9 9 9
   :align: center

   * - 31

     - 30

     - 29

     - 28

     - 27

     - 26

     - 25

     - 24

   * - :cspan:`7` --

   * - 23

     - 22

     - 21

     - 20

     - 19

     - 18

     - 17

     - 16

   * - :cspan:`7` --

   * - 15

     - 14

     - 13

     - 12

     - 11

     - 10

     - 9

     - 8

   * - :cspan:`7` --

   * - 7

     - 6

     - 5

     - 4

     - 3

     - 2

     - 1

     - 0

   * - :cspan:`2` --

     - GENBRK

     - GENBRKIF

     - GENBRKIE

     - BRKDETIF

     - BRKDETIE



.. ----------------------------------------------------------------------------------------------------

.. flat-table::
   :class: tight-table
   :header-rows: 1
   :widths: 12 15 73

   * - 位域

     - 名称

     - 描述

   * - 31:5

     - --

     - --

   * - 4

     - GENBRK

     - 发送LIN Break

       1：发送

       0：不发送

       发送完成自动清零，R/W，AC


   * - 3

     - GENBRKIF

     - LIN Break发送完成中断状态，R/W1C

       1：中断已产生

       0：中断未产生

       注：无论GENBRKIE是0还是1，此标志位都可以置位


   * - 2

     - GENBRKIE

     - 发送LIN Break完成中断的使能

       1：使能

       0：禁能

       注：此位负责控制GENBRKIF中断标志是否要触发内核中断


   * - 1

     - BRKDETIF

     - 检测到LIN Break中断状态，R/W1C

       1：中断已产生

       0：中断未产生


   * - 0

     - BRKDETIE

     - 检测到LIN Break中断的使能

       1：使能

       0：禁能




.. ----------------------------------------------------------------------------------------------------

自动流控控制寄存器CTSCR/ RTSCR
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. flat-table::
   :class: tight-table
   :header-rows: 1
   :widths: 12 9 6 10 33

   * - 寄存器

     - 偏移

     - 类型

     - 复位值

     - 描述

   * - CTSCR/ RTSCR

     - 0x14

     - R/W

     - 0x0

     - 自动流控控制寄存器



.. ----------------------------------------------------------------------------------------------------

.. flat-table::
   :class: tight-table
   :widths: 9 9 9 9 9 9 9 9
   :align: center

   * - 31

     - 30

     - 29

     - 28

     - 27

     - 26

     - 25

     - 24

   * - :cspan:`7` --

   * - 23

     - 22

     - 21

     - 20

     - 19

     - 18

     - 17

     - 16

   * - :cspan:`7` --

   * - 15

     - 14

     - 13

     - 12

     - 11

     - 10

     - 9

     - 8

   * - :cspan:`6` --

     - RTSCR_STAT

   * - 7

     - 6

     - 5

     - 4

     - 3

     - 2

     - 1

     - 0

   * - CTSCR_STAT

     - :cspan:`2` RTSCR_THR

     - RTSCR_POL

     - CTSCR_POL

     - RTSCR_EN

     - CTSCR_EN



.. ----------------------------------------------------------------------------------------------------

.. flat-table::
   :class: tight-table
   :header-rows: 1
   :widths: 12 15 73

   * - 位域

     - 名称

     - 描述

   * - 31:9

     - --

     - --

   * - 8

     - RTSCR_STAT

     - RTS的当前状态，RO

   * - 7

     - CTSCR_STAT

     - CTS的当前状态，RO

   * - 6:4

     - RTSCR_THR

     - RTS流控的触发阈值

       000 :触发阈值为1BYTE，内部缓存的剩余空间最多只剩1BYTE。

       001：触发阈值为2BYTE，内部缓存的剩余空间最多只剩2BYTE。

       010：触发阈值为4BYTE，内部缓存的剩余空间最多只剩4BYTE。

       011：触发阈值为6BYTE，内部缓存的剩余空间最多只剩6BYTE。


   * - 3

     - RTSCR_POL

     - RTS信号的极性。

       1：高有效，RTS输出高，可以接收数据。

       0：低有效，RTS输出低，可以接收数据


   * - 2

     - CTSCR_POL

     - CTS信号的极性。

       1：高有效，CTS输入为高，可以发送数据。

       0：低有效，CTS输入为低，可以发送数据。


   * - 1

     - RTSCR_EN

     - RTS流控使能

       1：RTS信号发挥流控的作用

       0：忽略RTS。


   * - 0

     - CTSCR_EN

     - CTS流控使能

       1：CTS信号发挥流控的作用

       0：忽略CTS。




.. ----------------------------------------------------------------------------------------------------

配置寄存器CFG
^^^^^^^^^^^^^^^^^^^^

.. flat-table::
   :class: tight-table
   :header-rows: 1
   :widths: 12 9 6 10 33

   * - 寄存器

     - 偏移

     - 类型

     - 复位值

     - 描述

   * - CFG

     - 0x18

     - R/W

     - 0

     - CFG 寄存器



.. ----------------------------------------------------------------------------------------------------

.. flat-table::
   :class: tight-table
   :widths: 9 9 9 9 9 9 9 9
   :align: center

   * - 31

     - 30

     - 29

     - 28

     - 27

     - 26

     - 25

     - 24

   * - :cspan:`7` --

   * - 23

     - 22

     - 21

     - 20

     - 19

     - 18

     - 17

     - 16

   * - :cspan:`7` --

   * - 15

     - 14

     - 13

     - 12

     - 11

     - 10

     - 9

     - 8

   * - :cspan:`3` --

     - TXINV

     - RXINV

     - :cspan:`1` BRKRXLEN

   * - 7

     - 6

     - 5

     - 4

     - 3

     - 2

     - 1

     - 0

   * - :cspan:`1` BRKRXLEN

     - :cspan:`3` BRKTXLEN

     - MSBF

     - RXEN



.. ----------------------------------------------------------------------------------------------------

.. flat-table::
   :class: tight-table
   :header-rows: 1
   :widths: 12 15 73

   * - 位域

     - 名称

     - 描述

   * - 31:12

     - --

     - --

   * - 11

     - TXINV

     - 1：发送时电平取反

       0：发送时电平不取反


   * - 10

     - RXINV

     - 1：接收时电平取反

       0：接收时电平不取反


   * - 9:6

     - BRKRXLEN

     - 接收BRK的判定长度。

       0表示收到1个bit的0，1表示收到2bit的0，依次类推


   * - 5:2

     - BRKTXLEN

     - 发送BRK的长度。

       1表示发送1bit的0，2表示发送2bit的0，依次类推


   * - 1

     - MSBF

     - 1：发送和接收时MSB在前

       0：发送和接收时LSB在前


   * - 0

     - RXEN

     - 接收打开使能

       1：接收使能。

       0：接收禁止。




.. ----------------------------------------------------------------------------------------------------

接收超时控制寄存器TOCR
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. flat-table::
   :class: tight-table
   :header-rows: 1
   :widths: 12 9 6 10 33

   * - 寄存器

     - 偏移

     - 类型

     - 复位值

     - 描述

   * - TOCR

     - 0x1C

     - R/W

     - 0x0

     - 接收超时控制寄存器



.. ----------------------------------------------------------------------------------------------------

.. flat-table::
   :class: tight-table
   :widths: 9 9 9 9 9 9 9 9
   :align: center

   * - 31

     - 30

     - 29

     - 28

     - 27

     - 26

     - 25

     - 24

   * - :cspan:`7` --

   * - 23

     - 22

     - 21

     - 20

     - 19

     - 18

     - 17

     - 16

   * - :cspan:`7` --

   * - 15

     - 14

     - 13

     - 12

     - 11

     - 10

     - 9

     - 8

   * - :cspan:`1` --

     - IFCLR

     - MODE

     - :cspan:`3` TIME

   * - 7

     - 6

     - 5

     - 4

     - 3

     - 2

     - 1

     - 0

   * - :cspan:`7` TIME



.. ----------------------------------------------------------------------------------------------------

.. flat-table::
   :class: tight-table
   :header-rows: 1
   :widths: 12 15 73

   * - 位域

     - 名称

     - 描述

   * - 31:14

     - --

     - --

   * - 13

     - IFCLR

     - 超时计数器清零，R/W1C

   * - 12

     - MODE

     - 1：无论FIFO是否清空，间隔指定时间后均产生超时中断

       0：FIFO清空后，不产生超时中断


   * - 11:0

     - TIME

     - 接收数据超时中断的触发条件。

       计时单位为10个SYMBOL TIME

       具体和实际波特率的设置相关。如波特率为9600，则计时单位为1/960秒。




