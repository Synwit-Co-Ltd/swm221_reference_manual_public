.. ----------------------------------------------------------------------------------------------------

DATA寄存器
^^^^^^^^^^^^^^^^^

.. flat-table::
   :class: tight-table-reg-info
   :header-rows: 1

   * - 寄存器

     - 偏移

     - 类型

     - 复位值

     - 描述

   * - DATA

     - 0x00

     - WO

     - N/A

     - 写数据寄存器



.. ----------------------------------------------------------------------------------------------------

.. flat-table::
   :class: tight-table-reg-fields

   * - 31

     - 30

     - 29

     - 28

     - 27

     - 26

     - 25

     - 24

   * - :cspan:`7` 

   * - 23

     - 22

     - 21

     - 20

     - 19

     - 18

     - 17

     - 16

   * - :cspan:`7` 

   * - 15

     - 14

     - 13

     - 12

     - 11

     - 10

     - 9

     - 8

   * - :cspan:`7` 

   * - 7

     - 6

     - 5

     - 4

     - 3

     - 2

     - 1

     - 0

   * - :cspan:`7` DATA



.. ----------------------------------------------------------------------------------------------------

.. flat-table::
   :class: tight-table-reg-desc
   :header-rows: 1

   * - 位域

     - 名称

     - 类型

     - 描述

   * - 31:0

     - DATA

     - WO

     - 需要写的数据



.. ----------------------------------------------------------------------------------------------------

ADDR 寄存器
^^^^^^^^^^^^^^^^^^^^

.. flat-table::
   :class: tight-table-reg-info
   :header-rows: 1

   * - 寄存器

     - 偏移

     - 类型

     - 复位值

     - 描述

   * - ADDR

     - 0x04

     - WO

     - 0x00000000

     - 写地址寄存器



.. ----------------------------------------------------------------------------------------------------

.. flat-table::
   :class: tight-table-reg-fields

   * - 31

     - 30

     - 29

     - 28

     - 27

     - 26

     - 25

     - 24

   * - :cspan:`7` 

   * - 23

     - 22

     - 21

     - 20

     - 19

     - 18

     - 17

     - 16

   * - :cspan:`7` 

   * - 15

     - 14

     - 13

     - 12

     - 11

     - 10

     - 9

     - 8

   * - :cspan:`7` 

   * - 7

     - 6

     - 5

     - 4

     - 3

     - 2

     - 1

     - 0

   * - :cspan:`7` Address



.. ----------------------------------------------------------------------------------------------------

.. flat-table::
   :class: tight-table-reg-desc
   :header-rows: 1

   * - 位域

     - 名称

     - 类型

     - 描述

   * - 31:0

     - Address

     - WO

     - Flash 写入起始地址



.. ----------------------------------------------------------------------------------------------------

ERASE寄存器
^^^^^^^^^^^^^^^^^^^^

.. flat-table::
   :class: tight-table-reg-info
   :header-rows: 1

   * - 寄存器

     - 偏移

     - 类型

     - 复位值

     - 描述

   * - ERASE

     - 0x08

     - R/W

     - 0x00000000

     - 擦除操作请求



.. ----------------------------------------------------------------------------------------------------

.. flat-table::
   :class: tight-table-reg-fields

   * - 31

     - 30

     - 29

     - 28

     - 27

     - 26

     - 25

     - 24

   * - :cspan:`7` REQ enable

   * - 23

     - 22

     - 21

     - 20

     - 19

     - 18

     - 17

     - 16

   * - :cspan:`6` --

     - Address

   * - 15

     - 14

     - 13

     - 12

     - 11

     - 10

     - 9

     - 8

   * - :cspan:`7` Address

   * - 7

     - 6

     - 5

     - 4

     - 3

     - 2

     - 1

     - 0

   * - :cspan:`7` Address



.. ----------------------------------------------------------------------------------------------------

.. flat-table::
   :class: tight-table-reg-desc
   :header-rows: 1

   * - 位域

     - 名称

     - 类型

     - 描述

   * - 31:24

     - REQ enable

     - R/W

     - 

       Bit31-24：REQ enable，8位全1有效.


   * - 23:17

     - 保留位

     - RO

     - 保留位

   * - 16:0

     - 

     - R/W

     - 擦除地址。高8位有效，每次擦出512byte空间。全1表示整个eFlash 擦除（全片擦除不能擦除INFO区，即使info访问使能置1）。



.. ----------------------------------------------------------------------------------------------------

CACHE寄存器
^^^^^^^^^^^^^^^^^^^^

.. flat-table::
   :class: tight-table-reg-info
   :header-rows: 1

   * - 寄存器

     - 偏移

     - 类型

     - 复位值

     - 描述

   * - CACHE

     - 0x0C

     - R/W

     - 0x00000000

     - Cache 配置寄存器



.. ----------------------------------------------------------------------------------------------------

.. flat-table::
   :class: tight-table-reg-fields

   * - 31

     - 30

     - 29

     - 28

     - 27

     - 26

     - 25

     - 24

   * - CLR

     - :cspan:`6` --

   * - 23

     - 22

     - 21

     - 20

     - 19

     - 18

     - 17

     - 16

   * - :cspan:`7` --

   * - 15

     - 14

     - 13

     - 12

     - 11

     - 10

     - 9

     - 8

   * - :cspan:`7` --

   * - 7

     - 6

     - 5

     - 4

     - 3

     - 2

     - 1

     - 0

   * - :cspan:`5` --

     - 

     - EN



.. ----------------------------------------------------------------------------------------------------

.. flat-table::
   :class: tight-table-reg-desc
   :header-rows: 1

   * - 位域

     - 名称

     - 类型

     - 描述

   * - 31

     - CLR

     - R/WAC

     - 清空cache，写1有效，自动清零

   * - 30:1

     - --

     - RO

     - 保留位

   * - 0

     - EN

     - R/W

     - Cache使能，1有效。默认关闭



.. ----------------------------------------------------------------------------------------------------

CFG0寄存器
^^^^^^^^^^^^^^^^^

.. flat-table::
   :class: tight-table-reg-info
   :header-rows: 1

   * - 寄存器

     - 偏移

     - 类型

     - 复位值

     - 描述

   * - CFG0

     - 0x10

     - R/W

     - 0x00000000

     - Flash配置寄存器0



.. ----------------------------------------------------------------------------------------------------

.. flat-table::
   :class: tight-table-reg-fields

   * - 31

     - 30

     - 29

     - 28

     - 27

     - 26

     - 25

     - 24

   * - :cspan:`7` --

   * - 23

     - 22

     - 21

     - 20

     - 19

     - 18

     - 17

     - 16

   * - :cspan:`7` --

   * - 15

     - 14

     - 13

     - 12

     - 11

     - 10

     - 9

     - 8

   * - :cspan:`4` --

     - Bit10

     - Bit9

     - Bit8

   * - 7

     - 6

     - 5

     - 4

     - 3

     - 2

     - 1

     - 0

   * - Bit7

     - Bit6

     - Bit5

     - Bit4

     - Bit3

     - Bit2

     - Bit1

     - Bit0



.. ----------------------------------------------------------------------------------------------------

.. flat-table::
   :class: tight-table-reg-desc
   :header-rows: 1

   * - 位域

     - 名称

     - 类型

     - 描述

   * - 31:11

     - --

     - RO

     - --

   * - 10

     - Bit10

     - R/W

     - Info区擦写使能，1有效。只有在dbg_msk无效时软件可以设置或清零。

   * - 9

     - Bit9

     - R/W

     - 主程序区擦写使能，1有效。dbg_msk无效时软件可以设置或清零；dbg_msk有效且全片擦除时硬件自动设置，擦出完成后硬件自动清零。

   * - 8

     - Bit8

     - R/W

     - Info 区访问使能，1有效。（读、编程、擦除info区均需要使能该位，info区的page1只能CP操作擦除和编程，用户只可读。FLASH IP行为，控制器不做判断）

   * - 7

     - Bit7

     - RO

     - 保留

   * - 6

     - Bit6

     - R/W

     - FWUP使能，为1时打开快速唤醒功能，功耗比正常唤醒要大

   * - 5

     - Bit5

     - R/W

     - 深睡眠模式使能，1有效。进入深睡眠模式后flash功耗降到15uA以下。深睡眠模式下flash需要10us以上的唤醒时间

   * - 4

     - Bit4

     - RO

     - 保留

   * - 3

     - Bit3

     - R/W

     - ReadCFG，读配置寄存器，仅供debug使用，正常工作时为0

   * - 2

     - Bit2

     - R/W

     - ReadM1，marging Read1，仅供FT或debug使用，正常工作时为0

   * - 1

     - Bit1

     - R/W

     - ReadM0，marging Read0，仅供FT或debug使用，正常工作时为0

   * - 0

     - Bit0

     - R/W

     - 手动初始化，写1重新启动一次对FLASH的初始化，初始化完成后自动清零，写0无效。正常上电后自动进行一次初始化，仅供调试使用，请勿对用户开放。



.. ----------------------------------------------------------------------------------------------------

CFG1寄存器
^^^^^^^^^^^^^^^^^

.. flat-table::
   :class: tight-table-reg-info
   :header-rows: 1

   * - 寄存器

     - 偏移

     - 类型

     - 复位值

     - 描述

   * - CFG1

     - 0x14

     - WO

     - 0x00000000

     - Flash配置寄存器1



.. ----------------------------------------------------------------------------------------------------

.. flat-table::
   :class: tight-table-reg-fields

   * - 31

     - 30

     - 29

     - 28

     - 27

     - 26

     - 25

     - 24

   * - :cspan:`7` Config1

   * - 23

     - 22

     - 21

     - 20

     - 19

     - 18

     - 17

     - 16

   * - :cspan:`7` Config1

   * - 15

     - 14

     - 13

     - 12

     - 11

     - 10

     - 9

     - 8

   * - :cspan:`7` Config1

   * - 7

     - 6

     - 5

     - 4

     - 3

     - 2

     - 1

     - 0

   * - :cspan:`7` Config1



.. ----------------------------------------------------------------------------------------------------

.. flat-table::
   :class: tight-table-reg-desc
   :header-rows: 1

   * - 位域

     - 名称

     - 类型

     - 描述

   * - 31:0

     - Config1

     - WO

     - 往该寄存器连续写入0x5A5A5A5A， 0xA5A5A5A5后，解除flash IP的Readonly属性，允许擦除和编程。

       在Readonly属性解除的情况下，往该寄存器写入任意值恢复Readonly属性。因为硬件无法判断用户何时终止全部擦除或编程动作，无法自动恢复Readonly属性，为最大程度保护FLASH中的内容不被意外改写，强列建议软件在执行完擦写后通过该寄存器恢复Readonly。




.. ----------------------------------------------------------------------------------------------------

CFG2寄存器
^^^^^^^^^^^^^^^^^

.. flat-table::
   :class: tight-table-reg-info
   :header-rows: 1

   * - 寄存器

     - 偏移

     - 类型

     - 复位值

     - 描述

   * - CFG2

     - 0x18

     - R/W

     - 0x00000053

     - Flash配置寄存器2



.. ----------------------------------------------------------------------------------------------------

.. flat-table::
   :class: tight-table-reg-fields

   * - 31

     - 30

     - 29

     - 28

     - 27

     - 26

     - 25

     - 24

   * - :cspan:`7` --

   * - 23

     - 22

     - 21

     - 20

     - 19

     - 18

     - 17

     - 16

   * - :cspan:`7` --

   * - 15

     - 14

     - 13

     - 12

     - 11

     - 10

     - 9

     - 8

   * - :cspan:`7` clock cycle

   * - 7

     - 6

     - 5

     - 4

     - 3

     - 2

     - 1

     - 0

   * - :cspan:`7` clock cycle



.. ----------------------------------------------------------------------------------------------------

.. flat-table::
   :class: tight-table-reg-desc
   :header-rows: 1

   * - 位域

     - 名称

     - 类型

     - 描述

   * - 31:16

     - --

     - RO

     - 保留位

   * - 15:0

     - clock cycle

     - R/W

     - 系统时钟周期，以ns为单位，向下取整。比如当系统时钟为8M，则周期配置为125

       为防止ROM加载阶段因HRC频偏导致FLASH访问不成功，复位设置为12M频率对应值。

       注：实际时钟周期比配置周期大（实际频率更低）时，功能不受影响，但访问性会降低




.. ----------------------------------------------------------------------------------------------------

CFG3寄存器
^^^^^^^^^^^^^^^^^

.. flat-table::
   :class: tight-table-reg-info
   :header-rows: 1

   * - 寄存器

     - 偏移

     - 类型

     - 复位值

     - 描述

   * - CFG3

     - 0x1C

     - R/W

     - 0x09C488B8

     - Flash配置寄存器3



.. ----------------------------------------------------------------------------------------------------

.. flat-table::
   :class: tight-table-reg-fields

   * - 31

     - 30

     - 29

     - 28

     - 27

     - 26

     - 25

     - 24

   * - :cspan:`3` --

     - :cspan:`3` 

   * - 23

     - 22

     - 21

     - 20

     - 19

     - 18

     - 17

     - 16

   * - :cspan:`7` Sector_Erase duration

   * - 15

     - 14

     - 13

     - 12

     - 11

     - 10

     - 9

     - 8

   * - :cspan:`7` Chip_Erase duration

   * - 7

     - 6

     - 5

     - 4

     - 3

     - 2

     - 1

     - 0

   * - :cspan:`7` Chip_Erase duration



.. ----------------------------------------------------------------------------------------------------

.. flat-table::
   :class: tight-table-reg-desc
   :header-rows: 1

   * - 位域

     - 名称

     - 类型

     - 描述

   * - 31:28

     - --

     - RO

     - 保留位

   * - 27:16

     - Sector_Erase duration

     - R/W

     - 整页擦除时长，单位us。手册范围2~3ms，取中间值2.5ms（2500us）

   * - 15:0

     - Chip_Erase duration

     - R/W

     - 整芯片擦除时长，单位us。手册范围30~40ms，取中间值35ms（35000us）



.. ----------------------------------------------------------------------------------------------------

CFG4寄存器
^^^^^^^^^^^^^^^^^

.. flat-table::
   :class: tight-table-reg-info
   :header-rows: 1

   * - 寄存器

     - 偏移

     - 类型

     - 复位值

     - 描述

   * - CFG4

     - 0x20

     - R/W

     - 0x2af8ea60

     - Flash配置寄存器4



.. ----------------------------------------------------------------------------------------------------

.. flat-table::
   :class: tight-table-reg-fields

   * - 31

     - 30

     - 29

     - 28

     - 27

     - 26

     - 25

     - 24

   * - :cspan:`1` --

     - :cspan:`5` 编程时长

   * - 23

     - 22

     - 21

     - 20

     - 19

     - 18

     - 17

     - 16

   * - :cspan:`6` 

     - 

   * - 15

     - 14

     - 13

     - 12

     - 11

     - 10

     - 9

     - 8

   * - :cspan:`7` 

   * - 7

     - 6

     - 5

     - 4

     - 3

     - 2

     - 1

     - 0

   * - :cspan:`7` 建立时长



.. ----------------------------------------------------------------------------------------------------

.. flat-table::
   :class: tight-table-reg-desc
   :header-rows: 1

   * - 位域

     - 名称

     - 类型

     - 描述

   * - 31:28

     - --

     - RO

     - 保留位

   * - 29:17

     - 编程时长

     - R/W

     - 编程时长，单位ns。手册范围5~6.5us，取5.5us（5500ns

   * - 16:0

     - 建立时长

     - R/W

     - WE到PROG2的建立时间，单位ns。手册范围50~70us，取60us（60000ns



.. ----------------------------------------------------------------------------------------------------

STAT寄存器
^^^^^^^^^^^^^^^^^

.. flat-table::
   :class: tight-table-reg-info
   :header-rows: 1

   * - 寄存器

     - 偏移

     - 类型

     - 复位值

     - 描述

   * - STAT

     - 0x24

     - RO

     - 0x000000a8

     - CFG 寄存器



.. ----------------------------------------------------------------------------------------------------

.. flat-table::
   :class: tight-table-reg-fields

   * - 31

     - 30

     - 29

     - 28

     - 27

     - 26

     - 25

     - 24

   * - --

     - 

     - 

     - :cspan:`4` 

   * - 23

     - 22

     - 21

     - 20

     - 19

     - 18

     - 17

     - 16

   * - :cspan:`7` --

   * - 15

     - 14

     - 13

     - 12

     - 11

     - 10

     - 9

     - 8

   * - :cspan:`7` --

   * - 7

     - 6

     - 5

     - 4

     - 3

     - 2

     - 1

     - 0

   * - Bit7

     - Bit6

     - Bit5

     - Bit4

     - Bit3

     - Bit2

     - Bit1

     - Bit0



.. ----------------------------------------------------------------------------------------------------

.. flat-table::
   :class: tight-table-reg-desc
   :header-rows: 1

   * - 位域

     - 名称

     - 类型

     - 描述

   * - 31

     - Bit31

     - RO

     - 1-eflash is free

   * - 30

     - Bit30

     - RO

     - initial done

   * - 29

     - Bit29

     - RO

     - CP flag已检测到

   * - 28:8

     - --

     - RO

     - 保留位

   * - 7

     - Bit7

     - RO

     - Readonly有效

   * - 6

     - Bit6

     - RO

     - write FIFO半满

   * - 5

     - Bit5

     - RO

     - write FIFO 半空

   * - 4

     - Bit4

     - RO

     - write FIFO满

   * - 3

     - Bit3

     - RO

     - write FIFO空

   * - 2

     - Bit2

     - RO

     - read 操作进行中

   * - 1

     - Bit1

     - RO

     - program 操作进行中

   * - 0

     - Bit0

     - RO

     - erase 操作进行中



.. ----------------------------------------------------------------------------------------------------

REMAP寄存器
^^^^^^^^^^^^^^^^^^^^

.. flat-table::
   :class: tight-table-reg-info
   :header-rows: 1

   * - 寄存器

     - 偏移

     - 类型

     - 复位值

     - 描述

   * - REMAP

     - 0x28

     - R/W

     - 0x00000000

     - 



.. ----------------------------------------------------------------------------------------------------

.. flat-table::
   :class: tight-table-reg-fields

   * - 31

     - 30

     - 29

     - 28

     - 27

     - 26

     - 25

     - 24

   * - :cspan:`7` --

   * - 23

     - 22

     - 21

     - 20

     - 19

     - 18

     - 17

     - 16

   * - :cspan:`7` --

   * - 15

     - 14

     - 13

     - 12

     - 11

     - 10

     - 9

     - 8

   * - :cspan:`7` --

   * - 7

     - 6

     - 5

     - 4

     - 3

     - 2

     - 1

     - 0

   * - 

     - :cspan:`5` REMAP BASE ADDR

     - EN



.. ----------------------------------------------------------------------------------------------------

.. flat-table::
   :class: tight-table-reg-desc
   :header-rows: 1

   * - 位域

     - 名称

     - 类型

     - 描述

   * - 31:7

     - --

     - RO

     - --

   * - 6:1

     - REMAP BASE ADDR

     - R/W

     - 当REMAP BASE ADDR为1时，对0地址开头的2KB地址的访问都映射到REMAP BASE ADDR基地址对应的2K地址。

   * - 0

     - EN

     - R/W

     - 打开REMAP

       REMAP操作只作用于FLASH读取操作。

       进入和退出REMAP前需建议关闭CACHE功能，并执行一次CACHE清除操作




