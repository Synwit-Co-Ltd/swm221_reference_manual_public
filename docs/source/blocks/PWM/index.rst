
.. toctree::
  :maxdepth: 2
  
    
脉冲宽度调制发生器 (PWM)
=========================

概述
----

SWM221系列所有型号PWM操作均相同，不同型号PWM通道数可能不同。使用前需使能PWM模块时钟。

PWM模块用于实现芯片输出特定的方波，控制外部元器件，如步进电机等。计数器可以通过APB总线读写寄存器、和外部硬件同时控制，实现计数过程的控制。同时，CPU和外部硬件也可以共同实现对输出PWM信号的控制。

PWM模块提供了2组（PWM0、PMW1）、8路（PWM0A、PWM0B、PWM0AN、PWM0BN、PWM1A、PWM1B、PWM1AN、PWM1BN）独立通道，支持边沿模式、中心对称模式。

中心对称模式下，输出是互补输出。如PWM0A驱动 PWM0A 和 PWM0AN 两个输出信号，两个信号周期相等、电平值相反，且可设置死区。


特性
----
-  2组16位宽PWM控制，每组PWM支持4路PWM输出（A/AN/B/BN路），最多可产生8路PWM信号

-  支持10 位预分频计数器，一个位宽为10位的预分频计数器

-  每组PWM支持4个翻转点（非对称中心对齐模式下，每路输出支持2个翻转点，其他情况下每路支持1个翻转点）

-  支持CPU和外部信号两个控制源，同时控制计数器的启动、停止、输出MASK、配置更新四种操作，同时外部信号还可以控制计数器的暂停操作

-  提供新周期开始中断，高电平结束中断、刹车中断以及中心对称模式下的半周期中断

-  最多支持7路外部信号控制源和3路外部HALT信号，支持对低4路外部信号和3路外部HALT信号进行滤波功能，支持不滤波、过滤4/8/16pclk宽度四种配置

-  支持PWM计数周期、翻转周期、死区值、trigger值的动态配置，先发起更新请求，并在周期溢出时完成更新

-  支持输出两种类型的触发信号，计数器比较匹配触发和计数器溢出触发

-  可选择初始输出电平选择

-  PWM输出的固定值可配

-  PWM空闲状态下的输出可配

-  支持刹车功能

-  支持硬件自动触发ADC采样


功能描述
--------
.. include:: functions.rst


寄存器映射
----------
.. include:: regs_map.rst


寄存器描述
----------
.. include:: regs_tables.rst

